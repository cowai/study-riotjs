<!doctype html>

<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <title>${title}</title>
    <meta name="description" content="${description}" />
    <link rel="stylesheet" type="text/css" href="sample.css">
    <script src='sample.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/riot/2.3.18/riot+compiler.js'></script>

    <style>
        $ {
            style
        }
    </style>
</head>

<body>
    <!-- ユーザー定義のタグをここに展開 -->
    <app></app>

    <!-- app タグを定義 -->
    <script type="riot/tag">
        <app>
          <h1>Event handlers</h1>
          <button onclick='{ click }'>click</button>
          <ul>
            <li each='{ list }'>
              <button onclick='{ clickItem }'>{ name }</button>
            </li>
          </ul>

          this.list = [
            { name: 'hoge' },
            { name: 'foo' },
            { name: 'bar' },
          ];

          this.click = function(){
            console.log('click されたで');
          };

          this.clickItem = function(e){
            console.log(e.item.name + 'が click されたで〜');
            console.log(e.item);
            console.log(e.currentTarget);
            console.log(e.target);
            console.log(e.which);
          };
/**
 * イベントオブジェクト
 * イベントハンドラは通常のイベントオブジェクトを第一引数に受け取ります。次のプロパティについては、ブラウザが異なっても動作するよう標準化されています。
 *  e.currentTargetは、イベントハンドラが指定された要素を指します
 *  e.targetはイベントの送信元エレメントです。これは必ずしも必要ではなく、currentTargetと同じです。
 *  e.whichはキーボードイベント(keypress、keyupなど)のキーコートです。
 *  e.itemはループの中でのみ有効で、現在の要素を指します。詳しくはループを参照してください。
 */
        </app>
    </script>

    <script>
        // マウント
        riot.mount('*');
    </script>
</body>

</html>
